<div *ngIf="!editing" class="mat-form-field">
  <label class="mat-form-field-label">
    <mat-label *ngIf="label">{{label}}</mat-label>
  </label>
  <div [id]="id">{{value | cgtDictionary:dictionaryMeaning | async}}</div>
</div>

<ng-container *ngIf="editing">
  <mat-form-field>
    <mat-label *ngIf="label">{{label}}</mat-label>
    <mat-select [(value)]="value"
                [multiple]="multiple"
                [required]="required"
                [disabled]="disabled">
      <mat-option *ngIf="!required && noValue">{{noValue}}</mat-option>
      <mat-option *ngFor="let option of options$ | async"
                  [disabled]="!option.active"
                  [value]="option">
        {{option.display}}
      </mat-option>
    </mat-select>

    <mat-error *ngIf="invalid && touched">
      <div *ngIf="hasError('required')">
        {{requiredErrorMessage}}
      </div>
    </mat-error>
  </mat-form-field>
</ng-container>
